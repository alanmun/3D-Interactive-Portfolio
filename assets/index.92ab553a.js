import{M as t,G as e,a as n,C as o,b as i,c as a,O as s,d as r,R as l,V as d,S as c,e as w,B as h,A as m,f as p,P as u,T as g,g as f,h as y,W as b,i as v,D as k,j as x,k as I,l as D,m as M,n as C,o as E,p as j,q as S,r as F,s as T,t as A,L as z}from"./vendor.667da117.js";class P{constructor(o,i,a,s=null){this.isGroup=!1,this.distance=0,this.tilt=t.randInt(-70,10),this.theta=t.randFloat(0,6.28318530718),this.cameraIsAt=!1,this.entity=null,this.entityCloseUp=null,null!=s?this.entity=s:this.isGroup?this.entity=new e:this.entity=new n,this.entity.name=o,this.isGroup=i,this.distance=a}swapEntities(t){!1===this.cameraIsAt?(t.remove(this.entity),t.add(this.entityCloseUp),this.cameraIsAt=!0):(t.remove(this.entityCloseUp),t.add(this.entity),this.cameraIsAt=!1)}addMesh(t,e){this.isGroup?this.entity.add(new n(t,e)):(this.entity.geometry=t,this.entity.material=e)}setCloseUp(t){this.entityCloseUp=t,this.entityCloseUp.name=this.entity.name+" close"}rotate(t,e,n){this.entity.rotation.x+=t,this.entity.rotation.y+=e,this.entity.rotation.z+=n}adjustOrbit(){let t;t=this.cameraIsAt?this.entityCloseUp:this.entity;t.position.x=this.distance*Math.cos(this.theta),t.position.y=this.distance*Math.sin(this.theta),t.position.z=this.tilt*Math.sin(this.theta),this.theta+=1/(.09*this.distance**2)}addTree(){const e=t.randFloat(.5,1),r=new o(.1,.1,e,12),l=new i({color:"brown"}),d=new a(.4,2*e,12),c=new i({color:"green"}),w=new s;w.add(new n(r,l));const h=new n(d,c);h.position.y=3*e/2,w.add(h),w.position.x-=t.randFloat(7,15),w.position.y+=6,w.position.z-=t.randFloat(-6,6.75),this.entityCloseUp.add(w)}reverberate(e){if("blackhole"==this.entity.name){let n=.5*Math.sin(e)+.5;const o=new r("#BAD1FF"),i=new r("#FFFFFF");let a;return this.entity.material.uniforms.glowColor.value=o.lerp(i,n),a=t.randInt(1,10)>8?.4:0,e+a}return 0}setName(t){this.entity.name=t}getName(){return this.entity.name}}const L="\nuniform vec3 viewVector;\nuniform float c;\nuniform float p;\nvarying float intensity;\nvoid main() \n{\n    vec3 vNormal = normalize( normalMatrix * normal );\n\tvec3 vNormel = normalize( normalMatrix * viewVector );\n\tintensity = pow( c - dot(vNormal, vNormel), p );\n\t\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}\n",B="\nuniform vec3 glowColor;\nvarying float intensity;\nvoid main() \n{\n\tvec3 glow = glowColor * intensity;\n    gl_FragColor = vec4(glow, 1.0);\n}\n";var G,R;(R=G||(G={}))[R.spawn=0]="spawn",R[R.blackHole=1]="blackHole",R[R.twitter=2]="twitter",R[R.autosage=3]="autosage",R[R.moon=4]="moon";let U,H,V,q,W,O,N,_,X,Y=0,Z=!1,J=!1;var K=new Audio("/3D-Interactive-Portfolio/assets/zoomout.73f18dd5.wav");K.volume=.9;var Q=new Audio("/3D-Interactive-Portfolio/assets/background.dd42b1f0.mp3");Q.volume=.65;var $=!1,tt=!1,et=!1,nt=!1,ot=!1,it=new l,at=new d;const st={x:0,y:0,z:360};let rt={isLocked:!1,target:null,name:0};const lt={isLocked:!0,target:{position:st},name:0};function dt(t){if(!rt.isLocked||ot)if(ot)ct();else{if(at.x=t.clientX/window.innerWidth*2-1,at.y=-t.clientY/window.innerHeight*2+1,it.setFromCamera(at,V),!ot&&it.ray.intersectsBox((new A).setFromObject(N.entity)))return console.log("Hit detected on autosage world (not close up)"),void(rt={isLocked:!0,target:N.entity,name:3});if(!ot&&it.ray.intersectsBox((new A).setFromObject(W.entity)))return console.log("Hit detected on twitter world (not close up)"),void(rt={isLocked:!0,target:W.entity,name:2});var e=it.intersectObjects(H.children);console.log(e[0].object.name),"star"!=e[0].object.name&&"skybox"!=e[0].object.name&&"blackhole"!=e[0].object.name&&"blackholecore"!=e[0].object.name&&"gridhelper"!=e[0].object.name&&(rt.isLocked=!0,rt.target=e[0].object,"moon"==e[0].object.name?rt.name=4:"autosage"==e[0].object.name&&(rt.name=3))}}function ct(){pt(!1),mt(rt.name,!0),rt=lt,K.play()}function wt(t){document.getElementById("portfolioDiv").style.visibility="visible";let e=document.getElementById("title"),n=document.getElementById("spanBody");switch(t){case 2:e.innerHTML="What Song Is That? Twitter Bot (2020)",n.innerHTML='I decided to write and host a twitter bot for fun on my own server, using a Raspberry Pi, for a friend\'s twitter account. That bot has over a hundred thousand followers now. The success of that bot led me to make my own more sophisticated bot called What Song Is That? It takes requests from users who wish to know what song is playing in a tweet, queries Shazam\'s API on their behalf and displays its findings cleanly on a website I made for it. Visit <a style="text-decoration:none; color:salmon;" href="https://whatsong.page" target="_blank">whatsong.page</a> for more information.';break;case 3:e.innerHTML="AutoSage (2021)",n.innerHTML='AutoSage is a Python written tool for users of BeatSage, an AI driven service made for the popular VR rhythm game Beat Saber. AutoSage simplifies and automates the process of using BeatSage for all of the songs the user wishes to play in Beat Saber. See the tool\'s repo here: <a style="text-decoration:none; color:salmon;" href="https://github.com/alanmun/autosage" target="_blank">github.com/alanmun/autosage</a>';break;default:console.log("Unknown case in addText")}}function ht(){document.getElementById("portfolioDiv").style.visibility="hidden"}function mt(t,e){switch(e?(ot=!1,V.rotation.y=0,W.distance/=1,N.distance/=1.5,X.distance/=2):(ot=!0,V.rotation.y=1.57,W.distance*=1,N.distance*=1.5,X.distance*=2),t){case 1:case 4:break;case 2:e?(W.swapEntities(H),ht()):(W.swapEntities(H),wt(t),rt.target=W.entityCloseUp);break;case 3:e?(N.swapEntities(H),ht()):(N.swapEntities(H),wt(t),rt.target=N.entityCloseUp);break;default:console.log("DEFAULT TRIGGERED!?!?!?!?")}}function pt(t=!0,e="730ms"){var n=document.getElementById("bg");return n.style.transitionDuration=e,n.style.opacity=t?"0":"1",!1}function ut(t){var e=t.which;if(32==e||27==e){if(0==rt.name)return;if(rt.isLocked&&!ot)return;ct()}37==e&&(V.rotation.y+=.1),38==e&&(V.rotation.x+=.1),39==e&&(V.rotation.y-=.1),40==e&&(V.rotation.x-=.1),79==e&&(Z=!Z,U.enabled=!U.enabled)}function gt(t){t.target.remove()}function ft(){Y+=1}function yt(){V.aspect=window.innerWidth/window.innerHeight,V.updateProjectionMatrix(),q.setSize(window.innerWidth,window.innerHeight)}(new class{addStar(e=!1){let o,i=t.randFloat(.75,.95);switch(t.randInt(1,6)){case 1:o=new r("#2407FF");break;case 2:o=new r("#FFB200");break;default:o=new r("white")}const a=new c(i,16,16),s=new w({uniforms:{glowColor:{value:o},p:{value:3},c:{value:.5},viewVector:{value:V.position}},vertexShader:L,fragmentShader:B,side:h,blending:m,transparent:!0}),l=new n(a,s);let d,p,u,g,f,y;g=0==t.randInt(0,1)?-1:1,f=0==t.randInt(0,1)?-1:1,y=e||0==t.randInt(0,1)?-1:1;const b=700;d=t.randFloat(0,g*b),u=t.randFloat(0,y*b),p=Math.abs(u)>350||Math.abs(d)>350?t.randFloat(0,f*b):t.randFloat(350*f,f*b),l.position.set(d,p,u),l.name="star",H.add(l)}pinCameraToWorld(t){V.position.set(t.position.x,t.position.y+8,t.position.z)}adjustCamera(t){const e=V.position.x-t.position.x,n=V.position.y-t.position.y,o=V.position.z-t.position.z,i=.08,a=.05,s=.025,r=.05;let l=Math.abs(e);l>18?V.position.x-=e*i:l>5?(V.position.x-=e*a,$=!0):l>1?(V.position.x-=e*s,$=!0):l>.03?(V.position.x-=Math.sign(e)*r,$=!0):l>=0&&(V.position.x=t.position.x,$=!0);let d=Math.abs(n);d>18?V.position.y-=n*i:d>5?(V.position.y-=n*a,tt=!0):d>1?(V.position.y-=n*s,tt=!0):d>.03?(V.position.y-=Math.sign(n)*r,tt=!0):d>=0&&(V.position.y=t.position.y,tt=!0);let c=Math.abs(o);c>18?V.position.z-=o*i:c>5?(V.position.z-=o*a,et=!0):c>1?(V.position.z-=o*s,et=!0):c>.03?(V.position.z-=Math.sign(o)*r,et=!0):c>=0&&(V.position.z=t.position.z,et=!0),V.position.x==st.x&&V.position.y==st.y&&V.position.z==st.z?(rt={isLocked:!1,target:null,name:0},console.log("Matched at spawn: "+V.position.x+"  "+st.x),$=!1,tt=!1,et=!1,nt=!1):$&&tt&&et&&!nt&&(pt(),setTimeout((function(){mt(rt.name,!1),pt(!1)}),1e3),nt=!0)}init(){let o;H=new p,V=new u(35,window.innerWidth/window.innerHeight,.1,5e3),document.body.addEventListener("mousemove",(function(){J&&Q.play()}));const a=new z((()=>{console.log("Loaded: "+Y),console.log("Loaded skybox"),o=new n(l,A),o.name="skybox",H.add(o);const t=document.querySelector("#loading-screen");null==t||t.classList.add("fade-out"),null==t||t.addEventListener("transitionend",gt),J=!0,V.position.set(0,400,1200),rt=lt,nt=!0})),s=new g(a);let l=new f(2100,2100,2100),A=[new y({map:s.load("/3D-Interactive-Portfolio/assets/right.19f9b8b4.png",ft)}),new y({map:s.load("/3D-Interactive-Portfolio/assets/left.06e25816.png",ft)}),new y({map:s.load("/3D-Interactive-Portfolio/assets/top.14e60ce3.png",ft)}),new y({map:s.load("/3D-Interactive-Portfolio/assets/bottom.8560bb79.png",ft)}),new y({map:s.load("/3D-Interactive-Portfolio/assets/front.e060fa56.png",ft)}),new y({map:s.load("/3D-Interactive-Portfolio/assets/back.1d924bd0.png",ft)})];A.forEach((t=>t.side=h));let G=new g(a).load("/3D-Interactive-Portfolio/assets/moon.b246064f.jpg",ft),R=new g(a).load("/3D-Interactive-Portfolio/assets/moonbumpmap.8e277ece.jpg",ft),K=new g(a).load("/3D-Interactive-Portfolio/assets/rockmoss.88c3f847.jpg",ft),$=new g(a).load("/3D-Interactive-Portfolio/assets/rockmossnormal.eb3db67b.jpg",ft),tt=new g(a).load("/3D-Interactive-Portfolio/assets/rockmossroughness.4bc586f8.jpg",ft);window.addEventListener("click",dt,!1),window.addEventListener("keydown",ut,!1),window.addEventListener("resize",yt,!1),q=new b({canvas:document.querySelector("#bg"),logarithmicDepthBuffer:!1,antialias:!0}),q.setPixelRatio(window.devicePixelRatio),q.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(q.domElement),new v(a).load("/3D-Interactive-Portfolio/assets/block.c03dc9a6.glb",(function(o){N=new P("autosage",!0,95,o.scene);let a=N.entity;a.scale.set(7,7,7);let s=!0;a.traverse((function(t){t instanceof n&&(s?(s=!1,t.material=new i({color:"#cc0000",shininess:1,flatShading:!0})):t.material=new i({color:"#ffffff",flatShading:!0,side:k}))})),H.add(N.entity),_=new e;const r=new x;var l,d,c,w,m,p;d=0,c=0,w=50,m=100,p=10,(l=r).moveTo(d,c+p),l.lineTo(d,c+m-p),l.quadraticCurveTo(d,c+m,d+p,c+m),l.lineTo(d+w-p,c+m),l.quadraticCurveTo(d+w,c+m,d+w,c+m-p),l.lineTo(d+w,c+p),l.quadraticCurveTo(d+w,c,d+w-p,c),l.lineTo(d+p,c),l.quadraticCurveTo(d,c,d,c+p);let u=new I(r);u.center();let g=new D({color:"red",metalness:.1});g.side=h;let f=new n(u,g);f.rotation.x+=90*t.DEG2RAD,f.rotation.z+=90*t.DEG2RAD,_.add(f),N.setCloseUp(_);let y=new e;y=a.clone(!0),y.position.set(-40,1,-15),y.scale.set(1,1,1),y.name="miniblock1",y.rotation.y+=60*t.DEG2RAD,y.children[0].material=new i({color:"#0007cc",shininess:1,flatShading:!0}),_.add(y);let b=y.clone(!0);b.position.set(-40,1,-12.5),b.rotation.y+=30*t.DEG2RAD,y.children[0].material=new i({color:"#cc00c9",shininess:1,flatShading:!0}),_.add(b);let v=y.clone(!0);v.position.set(-35,1,15),v.rotation.x-=90*t.DEG2RAD,v.rotation.y+=30*t.DEG2RAD,v.children[0].material=new i({color:"#11a10a",shininess:1,flatShading:!0}),_.add(v),console.log(_)}),void 0,(function(t){console.error(t)}));const et=new M(new r("white"),1);H.add(et);{const t=new C(200,50);t.name="gridhelper",H.add(t)}U=new E(V,q.domElement),Z||(U.enabled=!1);for(let t=0;t<600;t++)this.addStar();let it=0,at=new P("blackhole",!1,0);at.addMesh(new c(6,128,128),new w({uniforms:{glowColor:{value:new j(.1,.1,.1)},p:{value:6},c:{value:.25},viewVector:{value:V.position}},vertexShader:L,fragmentShader:B,side:h,blending:m,transparent:!0}));let st=new n(new c(4.75,128,128),new S({color:"black",clearcoat:1,side:k}));st.name="blackholecore",H.add(st),H.add(at.entity),new F(a).load("/3D-Interactive-Portfolio/assets/twitter.f3599cc1.obj",(function(o){o.traverse((function(t){t instanceof n&&(t.material=new D({color:4177151,roughness:0,metalness:0,flatShading:!1}),t.rotation.y+=7.5)})),W=new P("twitter",!0,60,o),O=new e;let i=new T(64,64,128,128),a=new D({map:K,roughnessMap:tt,bumpMap:$});a.side=h,function(t,e){let n=.5*t.parameters.width,o=new d(-n,0),i=new d(0,e),a=new d(n,0),s=(new d).subVectors(o,i),r=(new d).subVectors(i,a),l=(new d).subVectors(o,a),c=s.length()*r.length()*l.length()/(2*Math.abs(s.cross(l))),w=new d(0,e-c),h=2*((new d).subVectors(o,w).angle()-.5*Math.PI),m=t.attributes.uv,p=t.attributes.position,u=new d;for(let d=0;d<m.count;d++){let t=1-m.getX(d),e=p.getY(d);u.copy(a).rotateAround(w,h*t),p.setXYZ(d,u.x,e,-u.y)}p.needsUpdate=!0}(i,4);let s=new n(i,a);O.add(s),W.setCloseUp(O),s.rotation.x+=90*t.DEG2RAD,s.rotation.z+=90*t.DEG2RAD;for(let t=0;t<10;t++)W.addTree();H.add(W.entity),ft()})),X=new P("moon",!1,120),X.addMesh(new c(6,64,64),new D({color:"white",map:G,bumpMap:R})),H.add(X.entity);const ct=()=>{requestAnimationFrame(ct),it=at.reverberate(it),N.adjustOrbit(),X.adjustOrbit(),W.adjustOrbit(),N.rotate(.001,.001,.01),X.rotate(.001,.001,0),W.rotate(0,0,.002),Z&&U.update(),rt.isLocked&&(ot?this.pinCameraToWorld(rt.target):this.adjustCamera(rt.target)),q.render(H,V)};ct()}}).init();
